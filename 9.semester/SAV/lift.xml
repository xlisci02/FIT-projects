<?xml version="1.0" encoding="utf-8"?><!DOCTYPE nta PUBLIC '-//Uppaal Team//DTD Flat System 1.1//EN' 'http://www.it.uu.se/research/group/darts/uppaal/flat-1_1.dtd'><nta><declaration>// Double deck lift

// lift door actions
chan open_at_0, close_at_0, open_at_1, close_at_1, open_at_2, close_at_2;

// lift movement
chan up_by_1,down_by_1,up_by_2,down_by_2;

// global clock
clock time;</declaration><template><name x="5" y="5">cabin</name><declaration>//clock
clock y;</declaration><location id="id0" x="-624" y="-480"><name x="-648" y="-512">Floor2</name></location><location id="id1" x="-624" y="-360"><name x="-688" y="-368">Floor1</name></location><location id="id2" x="-624" y="-216"><name x="-648" y="-200">Floor0</name></location><init ref="id2"/><transition><source ref="id0"/><target ref="id2"/><label kind="guard" x="-832" y="-328">y &gt; 6</label><label kind="synchronisation" x="-848" y="-360">down_by_2!</label><label kind="assignment" x="-832" y="-344">y := 0</label><nail x="-752" y="-424"/><nail x="-752" y="-272"/></transition><transition><source ref="id2"/><target ref="id0"/><label kind="guard" x="-472" y="-328">y &gt; 6</label><label kind="synchronisation" x="-480" y="-368">up_by_2!</label><label kind="assignment" x="-472" y="-344">y := 0</label><nail x="-488" y="-272"/><nail x="-488" y="-432"/></transition><transition><source ref="id1"/><target ref="id2"/><label kind="guard" x="-568" y="-296">y &gt; 3</label><label kind="synchronisation" x="-592" y="-328">down_by_1!</label><label kind="assignment" x="-568" y="-312">y := 0</label><nail x="-576" y="-288"/></transition><transition><source ref="id0"/><target ref="id1"/><label kind="guard" x="-576" y="-384">y &gt; 3</label><label kind="synchronisation" x="-592" y="-416">down_by_1!</label><label kind="assignment" x="-576" y="-400">y := 0</label><nail x="-584" y="-432"/></transition><transition><source ref="id1"/><target ref="id0"/><label kind="guard" x="-720" y="-392">y &gt; 3</label><label kind="synchronisation" x="-728" y="-424">up_by_1!</label><label kind="assignment" x="-720" y="-408">y := 0</label><nail x="-672" y="-432"/><nail x="-656" y="-448"/></transition><transition><source ref="id2"/><target ref="id1"/><label kind="guard" x="-720" y="-296">y &gt; 3</label><label kind="synchronisation" x="-728" y="-328">up_by_1!</label><label kind="assignment" x="-720" y="-312">y := 0</label><nail x="-672" y="-288"/></transition></template><template><name>door</name><parameter>chan &amp;open, chan &amp;close</parameter><location id="id3" x="-872" y="-488"><name x="-882" y="-518">Open</name></location><location id="id4" x="-1080" y="-488"><name x="-1104" y="-520">Closed</name></location><init ref="id4"/><transition><source ref="id4"/><target ref="id4"/><label kind="synchronisation" x="-1176" y="-480">close?</label><nail x="-1128" y="-488"/><nail x="-1128" y="-448"/></transition><transition><source ref="id3"/><target ref="id3"/><label kind="synchronisation" x="-808" y="-480">open?</label><nail x="-816" y="-456"/><nail x="-816" y="-488"/></transition><transition><source ref="id3"/><target ref="id4"/><label kind="synchronisation" x="-1000" y="-448">close?</label><nail x="-976" y="-456"/></transition><transition><source ref="id4"/><target ref="id3"/><label kind="synchronisation" x="-1000" y="-552">open?</label><nail x="-976" y="-528"/></transition></template><template><name>controller</name><location id="id5" x="-688" y="-360"><name x="-784" y="-368">MayEnter2</name></location><location id="id6" x="-688" y="-184"><name x="-784" y="-192">MayEnter1</name></location><location id="id7" x="-680" y="16"><name x="-776" y="8">MayEnter0</name></location><location id="id8" x="-512" y="16"><name x="-496" y="8">On0Floor</name></location><location id="id9" x="-512" y="-184"><name x="-496" y="-192">On1Floor</name></location><location id="id10" x="-512" y="-360"><name x="-496" y="-368">On2Floor</name></location><init ref="id8"/><transition><source ref="id10"/><target ref="id8"/><label kind="synchronisation" x="-392" y="-208">down_by_2?</label><nail x="-392" y="-256"/><nail x="-392" y="-144"/></transition><transition><source ref="id8"/><target ref="id10"/><label kind="synchronisation" x="-296" y="-208">up_by_2?</label><nail x="-304" y="-136"/><nail x="-304" y="-256"/></transition><transition><source ref="id7"/><target ref="id8"/><label kind="synchronisation" x="-624" y="56">close_at_0!</label><nail x="-600" y="48"/></transition><transition><source ref="id8"/><target ref="id7"/><label kind="synchronisation" x="-632" y="-40">open_at_0!</label><nail x="-600" y="-16"/></transition><transition><source ref="id6"/><target ref="id9"/><label kind="synchronisation" x="-640" y="-152">close_at_1!</label><nail x="-600" y="-152"/></transition><transition><source ref="id9"/><target ref="id6"/><label kind="synchronisation" x="-632" y="-240">open_at_1!</label><nail x="-600" y="-216"/></transition><transition><source ref="id5"/><target ref="id10"/><label kind="synchronisation" x="-632" y="-336">close_at_2!</label><nail x="-600" y="-336"/></transition><transition><source ref="id10"/><target ref="id5"/><label kind="synchronisation" x="-632" y="-424">open_at_2!</label><nail x="-600" y="-400"/></transition><transition><source ref="id9"/><target ref="id10"/><label kind="synchronisation" x="-608" y="-280">up_by_1?</label><nail x="-536" y="-272"/></transition><transition><source ref="id8"/><target ref="id9"/><label kind="synchronisation" x="-608" y="-88">up_by_1?</label><nail x="-536" y="-88"/></transition><transition><source ref="id9"/><target ref="id8"/><label kind="synchronisation" x="-496" y="-144">down_by_1?</label><nail x="-488" y="-88"/></transition><transition><source ref="id10"/><target ref="id9"/><label kind="synchronisation" x="-488" y="-240">down_by_1?</label><nail x="-480" y="-272"/></transition></template><system>// Place template instantiations here.
Door0 = door(open_at_0,close_at_0);
Door1 = door(open_at_1,close_at_1);
Door2 = door(open_at_2,close_at_2);
Cabin = cabin();
Controller = controller();
// List one or more processes to be composed into a system.

system Door0, Door1, Door2, Cabin, Controller;
</system></nta>